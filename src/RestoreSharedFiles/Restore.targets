<Project Sdk="Microsoft.Build.NoTargets">
  <Target Name="RestoreSharedFiles" DependsOnTargets="Restore">
    <Copy SourceFiles="@(RestoreFile)"
          DestinationFiles="@(RestoreFile->'%(RestoreFolder)%(RecursiveDir)%(Filename)%(Extension)')" />
    <Message Importance="High" Text="Restored file: %(RestoreFile.Identity) --> %(RestoreFile.RestorePath)" />
  </Target>
  <Target Name="RestoreCentralFiles" DependsOnTargets="Restore">
    <Copy SourceFiles="@(CentralFile)"
          DestinationFiles="@(CentralFile->'%(RestoreFolder)%(RecursiveDir)%(Filename)%(Extension)')" />
    <Copy SourceFiles="@(RestoreFile)"
          DestinationFiles="@(RestoreFile->'%(RestoreFolder)%(RecursiveDir)%(Filename)%(Extension)')" />
    <Message Importance="High" Text="Restored file: %(CentralFile.Identity) --> %(CentralFile.RestorePath)" />
    <Message Importance="High" Text="Restored file: %(RestoreFile.Identity) --> %(RestoreFile.RestorePath)" />
  </Target>
  <Target Name="CleanCentralFiles" DependsOnTargets="Restore">
    <Delete Files="@(CentralFile->'%(RestoreFolder)%(RecursiveDir)%(Filename)%(Extension)')" />
    <Delete Files="@(RestoreFile->'%(RestoreFolder)%(RecursiveDir)%(Filename)%(Extension)')" />
    <Message Importance="High" Text="Cleaned file: %(CentralFile.RestorePath)" />
  </Target>
  <Target Name="CleanSharedFiles" DependsOnTargets="Restore">
    <Delete Files="@(RestoreFile->'%(RestoreFolder)%(RecursiveDir)%(Filename)%(Extension)')" />
    <Message Importance="High" Text="Cleaned file: %(RestoreFile.RestorePath)" />
  </Target>
</Project>
